<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="contact.css">
    <title>Document</title>
</head>
<body>
    <header>
        <a href="#" class="logo">Rohit</a>
        
        <nav>
            <a href="home.html" > Home</a>
            <a href="#" >Skills</a>
            <a href="#" >Education</a>
            <a href="#" >Experience</a>
            <a href="contact.html" class="active">Contact</a>
        </nav>
    </header>
    <div class="container">
        <form onsubmit="sendEmail(); this.reset(); return false;">
            <h3>Fill this</h3>
            <input type="text" id="name" placeholder="Your Name" >
            <input type="email" id="email" placeholder="Email id" >
            <input type="text" id="phone" placeholder="Phone No." >
            <textarea id="message" rows="1" placeholder="How can I help you?" ></textarea>
            <button type="submit" onclick="openPopup()">Submit</button>
        </form>
        
        <!-- Popup structure -->
        <div class="popup" id="popup">
            <img src="images.png" alt="Green Check" width="50">
            <h2>Thank you</h2>
            <button type="button" onclick="closePopup()">OK</button>
        </div>
        
        <script src="https://smtpjs.com/v3/smtp.js"></script>
        <script>
            function sendEmail(){
                Email.send({
                    Host : "smtp.gmail.com",
                    Username : "majirohit11@gmail.com",
                    Password : "your-app-password",
                    To : 'rohitmaji18@gmail.com',
                    From : document.getElementById("email").value,
                    Subject : "New Form for Enquiry",
                    Body : "Name: " + document.getElementById("name").value 
                         + "<br>Email: " + document.getElementById("email").value 
                         + "<br>Phone No.: " + document.getElementById("phone").value 
                         + "<br>Message: " + document.getElementById("message").value 
                }).then(
                    message => openPopup()
                ).catch(
                    error => alert("Failed to send message")
                );
            }

            let popup = document.getElementById("popup");

            function openPopup(){
                popup.classList.add("open-popup");
            }
            function closePopup(){
                popup.classList.remove("open-popup");
            }
        </script>
    </div>
</body>
</html>
